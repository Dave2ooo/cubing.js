{"version":3,"file":"index-3d2ac941.js","sources":["../../src/kpuzzle/kpuzzle.ts","../../src/kpuzzle/definitions/svg/index.ts","../../src/kpuzzle/puzzle_definitions.ts","../../src/kpuzzle/parser/parser.js","../../src/kpuzzle/svg.ts"],"sourcesContent":["import { BlockMove, blockMoveToString, expand, parse, Sequence } from \"../alg\";\nimport { KPuzzleDefinition, Transformation } from \"./definition_types\";\n\nexport function Combine(def: KPuzzleDefinition, t1: Transformation, t2: Transformation): Transformation {\n  const newTrans: Transformation = {} as Transformation;\n  for (const orbitName in def.orbits) {\n    const oDef = def.orbits[orbitName];\n    const o1 = t1[orbitName];\n    const o2 = t2[orbitName];\n    const newPerm = new Array(oDef.numPieces);\n    const newOri = new Array(oDef.numPieces);\n    for (let idx = 0; idx < oDef.numPieces; idx++) {\n      newOri[idx] = (o1.orientation[o2.permutation[idx]] + o2.orientation[idx])\n        % oDef.orientations;\n      newPerm[idx] = o1.permutation[o2.permutation[idx]];\n    }\n    newTrans[orbitName] = { permutation: newPerm, orientation: newOri };\n  }\n  return newTrans;\n}\n\nexport function Multiply(def: KPuzzleDefinition, t: Transformation, amount: number): Transformation {\n  if (amount < 0) {\n    return Multiply(def, Invert(def, t), -amount);\n  }\n  if (amount === 0) {\n    return IdentityTransformation(def);\n  }\n  if (amount === 1) {\n    return t;\n  }\n  const halfish = Multiply(def, t, Math.floor(amount / 2));\n  const twiceHalfish = Combine(def, halfish, halfish);\n  if (amount % 2 === 0) {\n    return twiceHalfish;\n  } else {\n    return Combine(def, t, twiceHalfish);\n  }\n}\nexport function IdentityTransformation(definition: KPuzzleDefinition): Transformation {\n  const transformation = {} as Transformation;\n  for (const orbitName in definition.orbits) {\n    const orbitDefinition = definition.orbits[orbitName];\n    const newPermutation = new Array(orbitDefinition.numPieces);\n    const newOrientation = new Array(orbitDefinition.numPieces);\n    for (let i = 0; i < orbitDefinition.numPieces; i++) {\n      newPermutation[i] = i;\n      newOrientation[i] = 0;\n    }\n    const orbitTransformation = { permutation: newPermutation, orientation: newOrientation };\n    transformation[orbitName] = orbitTransformation;\n  }\n  return transformation;\n}\n\nexport function Invert(def: KPuzzleDefinition, t: Transformation): Transformation {\n  const newTrans: Transformation = {} as Transformation;\n  for (const orbitName in def.orbits) {\n    const oDef = def.orbits[orbitName];\n    const o = t[orbitName];\n    const newPerm = new Array(oDef.numPieces);\n    const newOri = new Array(oDef.numPieces);\n    for (let idx = 0; idx < oDef.numPieces; idx++) {\n      const fromIdx = (o.permutation[idx] as number);\n      newPerm[fromIdx] = idx;\n      newOri[fromIdx] = (oDef.orientations - o.orientation[idx] + oDef.orientations) % oDef.orientations;\n    }\n    newTrans[orbitName] = { permutation: newPerm, orientation: newOri };\n  }\n  return newTrans;\n}\n\nfunction gcd(a: number, b: number): number {\n  if (b) {\n     return gcd(b, a % b);\n  }\n  return a;\n}\n/* calculate the order of a particular transformation. */\nexport function Order(def: KPuzzleDefinition, t: Transformation): number {\n  let r: number = 1;\n  for (const orbitName in def.orbits) {\n    const oDef = def.orbits[orbitName];\n    const o = t[orbitName];\n    const d = new Array(oDef.numPieces);\n    for (let idx = 0; idx < oDef.numPieces; idx++) {\n      if (!d[idx]) {\n        let w = idx;\n        let om = 0;\n        let pm = 0 ;\n        while (true) {\n          d[w] = true ;\n          om = om + o.orientation[w];\n          pm = pm + 1 ;\n          w = o.permutation[w];\n          if (w === idx) {\n            break ;\n          }\n        }\n        if (om !== 0) {\n          pm = pm * oDef.orientations / gcd(oDef.orientations, om) ;\n        }\n        r = r * pm / gcd(r, pm);\n      }\n    }\n  }\n  return r;\n}\n\nexport function EquivalentTransformations(def: KPuzzleDefinition, t1: Transformation, t2: Transformation): boolean {\n  for (const orbitName in def.orbits) {\n    const oDef = def.orbits[orbitName];\n    const o1 = t1[orbitName];\n    const o2 = t2[orbitName];\n    for (let idx = 0; idx < oDef.numPieces; idx++) {\n      if (o1.orientation[idx] !== o2.orientation[idx]) {\n        return false;\n      }\n      if (o1.permutation[idx] !== o2.permutation[idx]) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport function EquivalentStates(def: KPuzzleDefinition, t1: Transformation, t2: Transformation): boolean {\n  // Turn transformations into states.\n  // This accounts for indistinguishable pieces.\n  return EquivalentTransformations(def, Combine(def, def.startPieces, t1), Combine(def, def.startPieces, t2));\n}\n\n// TODO: Move other helpers into the definition.\nexport function stateForBlockMove(def: KPuzzleDefinition, blockMove: BlockMove): Transformation {\n  // TODO: Optimize this.\n  const repMoveString = blockMoveToString(new BlockMove(blockMove.outerLayer, blockMove.innerLayer, blockMove.family, 1));\n  let move: Transformation | undefined = def.moves[repMoveString];\n  if (!move) {\n    move = new KPuzzle(def).expandSlices(repMoveString, blockMove);\n  }\n  if (!move) {\n    throw new Error(`Unknown move family: ${blockMove.family}`);\n  }\n  return Multiply(def, move, blockMove.amount);\n}\n\nexport class KPuzzle {\n  public state: Transformation;\n  constructor(public definition: KPuzzleDefinition) {\n    this.state = IdentityTransformation(definition);\n  }\n\n  public serialize(): string {\n    let output = \"\";\n    for (const orbitName in this.definition.orbits) {\n      output += orbitName + \"\\n\";\n      output += this.state[orbitName].permutation.join(\" \") + \"\\n\";\n      output += this.state[orbitName].orientation.join(\" \") + \"\\n\";\n    }\n    output = output.slice(0, output.length - 1); // Trim last newline.\n    return output;\n  }\n\n  public applyBlockMove(blockMove: BlockMove): void {\n    this.state = Combine(this.definition, this.state, stateForBlockMove(this.definition, blockMove));\n  }\n\n  public applyAlg(a: Sequence): void {\n    // TODO: Iterator instead of full expansion.\n    for (const move of (expand(a).nestedUnits) as BlockMove[]) {\n      this.applyBlockMove(move);\n    }\n  }\n\n  public applyMove(moveName: string): this {\n    let move: Transformation | undefined = this.definition.moves[moveName];\n    if (!move) {\n      move = this.expandSlicesByName(moveName);\n    }\n    if (!move) {\n      throw new Error(`Unknown move: ${moveName}`);\n    }\n\n    this.state = Combine(this.definition, this.state, move);\n    return this;\n  }\n\n  public getMoveExpander(create: boolean): MoveExpander | undefined {\n    let moveExpander = this.definition.moveExpander;\n    if (create && !moveExpander) {\n      moveExpander = new MoveExpander();\n      this.definition.moveExpander = moveExpander;\n    }\n    return moveExpander;\n  }\n  public setFaceNames(faceNames: string[]): void {\n    const me = this.getMoveExpander(true);\n    if (me) {\n      me.setFaceNames(faceNames);\n    }\n  }\n  public addGrip(grip1: string, grip2: string, nslices: number): void {\n    const me = this.getMoveExpander(true);\n    return me ? me.addGrip(grip1, grip2, nslices, this.definition) : undefined;\n  }\n  public expandSlices(rep: string, blockMove: BlockMove): Transformation | undefined {\n    const me = this.getMoveExpander(false);\n    return me ? me.expandSlices(rep, blockMove, this.definition) : undefined;\n  }\n  public expandSlicesByName(mv: string): Transformation | undefined {\n    const me = this.getMoveExpander(false);\n    return me ? me.expandSlicesByName(mv, this.definition) : undefined;\n  }\n  public unswizzle(grip: string): string {\n    const me = this.getMoveExpander(true);\n    return me ? me.unswizzle(grip) : grip ;\n  }\n\n  // TODO: Implement\n  // parseState(): this {}\n\n  // TODO: Alg parsing\n\n  // TODO: Implement.\n  // invert(): this {}\n}\n\n//   This class supports expanding a set of slice moves (for instance,\n//   U, 2U, 3U, 2D, D on the 5x5x5) into a full set of outer block, inner\n//   slice, etc. moves such as 2-3u or 5U, automatically.  The addGrip()\n//   method informs us what grips exist and how many slices there are.\n//   The setFaceNames() method tells us what the names of the faces are\n//   so we can unswizzle swizzled grip names.\n\nexport class MoveExpander {\n  private gripStash: { [key: string]: Transformation[] };\n  private moveStash: { [key: string]: Transformation };\n  private facenames?: string[];\n  private regrip: { [key: string]: string };\n  constructor() {\n    this.gripStash = {};\n    this.moveStash = {};\n    this.regrip = {};\n  }\n  public setFaceNames(fn: string[]): void {\n    this.facenames = fn;\n  }\n  public addGrip(grip1: string, grip2: string, nslices: number, def: KPuzzleDefinition): void {\n    const slices = [];\n    const axes = this.gripStash;\n    const moves = def.moves;\n    for (let i = 1; i <= nslices; i++) {\n      let t = (i === 1 && moves[grip1]) || moves[\"\" + i + grip1];\n      if (!t) {\n        t = (i === nslices && moves[grip2] || moves[\"\" + (nslices + 1 - i) + grip2]);\n        if (t) {\n          t = Invert(def, t);\n        }\n      }\n      if (!t) {\n        throw new Error(\"Could not expand axis \" + grip1 + \" to \" + grip2 +\n          \" because we are missing a move for slice \" + i);\n      }\n      slices.push(t);\n    }\n    axes[grip1] = slices;\n    const aprime = slices.map((_: Transformation) => Invert(def, _));\n    aprime.reverse();\n    axes[grip2] = aprime;\n  }\n  public expandSlicesByName(mv: string, def: KPuzzleDefinition): Transformation | undefined {\n    const t = this.moveStash[mv];\n    if (t) {\n      return t;\n    }\n    try {\n      const alg = parse(mv);\n      if (alg.nestedUnits.length !== 1) {\n        return undefined;\n      }\n      const signmove = alg.nestedUnits[0] as BlockMove; // need better way\n      return this.expandSlices(mv, signmove, def);\n    } catch (e) {\n      return undefined;\n    }\n  }\n  public unswizzle(grip: string): string {\n    if (this.regrip[grip]) {\n      return this.regrip[grip] ;\n    }\n    if (!this.facenames) {\n      return grip ;\n    }\n    // permit unswizzle to strip w and p suffixes for callers\n    // other than the internal move expander below.\n    if (grip.length > 1) {\n      if (grip[0] <= \"Z\" && (grip[grip.length - 1] === \"w\" || grip[grip.length - 1] === \"v\")) {\n        grip = grip.substr(0, grip.length - 1);\n      }\n    }\n    const faceSplit = this.splitByFaceNames(grip, this.facenames);\n    if (faceSplit) {\n      for (let i = 0; i < faceSplit.length; i++) {\n        let testGrip = \"\";\n        for (let j = 0; j < faceSplit.length; j++) {\n          testGrip += faceSplit[(i + j) % faceSplit.length];\n        }\n        if (this.gripStash[testGrip]) {\n          this.regrip[grip] = testGrip;\n          return testGrip ;\n        }\n      }\n    }\n    return grip ;\n  }\n  public expandSlices(rep: string, blockMove: BlockMove, def: KPuzzleDefinition): Transformation | undefined {\n    const t = this.moveStash[rep];\n    if (t) {\n      return t;\n    }\n    const axes = this.gripStash;\n    const family = blockMove.family;\n    let grip = family;\n    let isBlock = false;\n    let isPuzzle = false;\n    // the following \"reparse\" code is almost certainly wrong\n    if (/[a-z]/.test(family)) {\n      isBlock = true;\n      grip = family.toUpperCase();\n    }\n    if (family.length > 1 && family.endsWith(\"w\")) {\n      isBlock = true;\n      grip = family.substring(0, family.length - 1);\n    }\n    if (family.length > 1 && family.endsWith(\"v\")) {\n      isPuzzle = true;\n      grip = family.substring(0, family.length - 1);\n    }\n    let slices = axes[grip];\n    if (!slices && this.facenames) {\n      grip = this.unswizzle(grip) ;\n      slices = axes[grip] ;\n    }\n    if (!slices) {\n      return undefined;\n    } // don't throw here; let others catch it\n    let outer = blockMove.outerLayer;\n    let inner = blockMove.innerLayer;\n    if (inner === undefined) {\n      if (outer === undefined) {\n        outer = 1;\n        inner = (isBlock ? 2 : 1);\n        if (isPuzzle) {\n          inner = axes[grip].length;\n        }\n      } else {\n        return undefined;\n      } // should never happen\n    } else if (outer === undefined) {\n      outer = (isBlock ? 1 : inner);\n    }\n    if (inner < outer) {\n      return undefined;\n    }\n    if (outer > axes[grip].length) {\n      return undefined;\n    }\n    let t2 = slices[outer - 1];\n    for (let i = outer + 1; i <= inner; i++) {\n      t2 = Combine(def, t2, slices[i - 1]);\n    }\n    this.moveStash[rep] = t2;\n    return t2;\n  }\n  private splitByFaceNames(s: string, facenames: string[]): string[] | undefined {\n    const r: string[] = [];\n    let at = 0;\n    // we permit lowercase arguments, but face names are always upper case\n    s = s.toUpperCase();\n    while (at < s.length) {\n      let found = false;\n      for (const facename of facenames) {\n        if (s.substr(at).startsWith(facename)) {\n          r.push(facename);\n          at += facename.length;\n          found = true;\n          break;\n        }\n      }\n      if (!found) {\n        return undefined;\n      }\n    }\n    return r;\n  }\n}\n","import { readFileSync } from \"fs\";\n\n// Parcel will automatically inline the data from this:\n//\n//     https://parceljs.org/javascript.html\n//     If you want to inline a file into the JavaScript bundle instead of\n//     reference it by URL, you can use the Node.js `fs.readFileSync` API to do\n//     that. The URL must be statically analyzable, meaning it cannot have any\n//     variables in it (other than `__dirname` and `__filename`).\nexport const sq1SVG = readFileSync(__dirname + \"/sq1.svg\", \"utf-8\");\n","import { KPuzzleDefinition } from \"./definition_types\";\nimport { sq1SVG } from \"./definitions/svg\";\n\nexport const Puzzles: { [key: string]: KPuzzleDefinition } = {\n  \"2x2x2\": {\n    name: \"2x2x2\",\n    orbits: { CORNERS: { numPieces: 7, orientations: 3 } },\n    startPieces: { CORNERS: { permutation: [0, 1, 2, 3, 4, 5, 6], orientation: [0, 0, 0, 0, 0, 0, 0] } },\n    moves: {\n      U: { CORNERS: { permutation: [3, 0, 1, 2, 4, 5, 6], orientation: [0, 0, 0, 0, 0, 0, 0] } },\n      R: { CORNERS: { permutation: [0, 2, 5, 3, 1, 4, 6], orientation: [0, 2, 1, 0, 1, 2, 0] } },\n      F: { CORNERS: { permutation: [0, 1, 3, 6, 4, 2, 5], orientation: [0, 0, 0, 0, 0, 0, 0] } },\n    },\n    svg: \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.0//EN\\\"\\n       \\\"http://www.w3.org/TR/2001/REC-SVG-20050904/DTD/svg11.dtd\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 490 370\\\" preserveAspectRatio=\\\"xMidYMid meet\\\">\\n  <defs>\\n  </defs>\\n  <title>2x2x2</title>\\n  <defs>\\n    <g id=\\\"sticker\\\">\\n        <rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"1\\\" height=\\\"1\\\" stroke=\\\"black\\\" stroke-width=\\\"0.04px\\\" />\\n    </g>\\n  </defs>\\n  <g id=\\\"puzzle\\\" transform=\\\"translate(5, 5) scale(60)\\\">\\n    <use id=\\\"CORNERS-l0-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2, 0)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNERS-l0-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(7, 2)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CORNERS-l0-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(0, 2)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"CORNERS-l1-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3, 0)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNERS-l1-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5, 2)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CORNERS-l1-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(6, 2)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"CORNERS-l2-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3, 1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNERS-l2-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3, 2)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CORNERS-l2-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4, 2)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"CORNERS-l3-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2, 1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNERS-l3-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(1, 2)\\\" style=\\\"fill: orange\\\"/>\\n    <use id=\\\"CORNERS-l3-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2, 2)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"CORNERS-l4-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3, 5)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNERS-l4-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(6, 3)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CORNERS-l4-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5, 3)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"CORNERS-l5-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3, 4)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNERS-l5-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4, 3)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CORNERS-l5-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3, 3)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"CORNERS-l6-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2, 4)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNERS-l6-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2, 3)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CORNERS-l6-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(1, 3)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use                    xlink:href=\\\"#sticker\\\" transform=\\\"translate(2, 5)\\\" style=\\\"fill: yellow\\\"/>\\n    <use                    xlink:href=\\\"#sticker\\\" transform=\\\"translate(0, 3)\\\" style=\\\"fill: orange\\\"/>\\n    <use                    xlink:href=\\\"#sticker\\\" transform=\\\"translate(7, 3)\\\" style=\\\"fill: blue\\\"/>\\n  </g>\\n\\n</svg>\",\n  },\n  \"3x3x3\": {\n\n    // Michael Reid 3x3x3 piece order + centers with orientation\n    name: \"3x3x3\",\n    orbits: {\n      EDGE: { numPieces: 12, orientations: 2 },\n      CORNER: { numPieces: 8, orientations: 3 },\n      CENTER: { numPieces: 6, orientations: 4 },\n    },\n    startPieces: {\n      EDGE: { permutation: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n      CORNER: { permutation: [0, 1, 2, 3, 4, 5, 6, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n      CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 0] },\n    },\n    moves: {\n      U: {\n        EDGE: { permutation: [1, 2, 3, 0, 4, 5, 6, 7, 8, 9, 10, 11], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [1, 2, 3, 0, 4, 5, 6, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [1, 0, 0, 0, 0, 0] },\n      },\n      y: {\n        EDGE: { permutation: [1, 2, 3, 0, 5, 6, 7, 4, 10, 8, 11, 9], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1] },\n        CORNER: { permutation: [1, 2, 3, 0, 7, 4, 5, 6], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [0, 2, 3, 4, 1, 5], orientation: [1, 0, 0, 0, 0, 3] },\n      },\n      x: {\n        EDGE: { permutation: [4, 8, 0, 9, 6, 10, 2, 11, 5, 7, 1, 3], orientation: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [4, 0, 3, 5, 7, 6, 2, 1], orientation: [2, 1, 2, 1, 1, 2, 1, 2] },\n        CENTER: { permutation: [2, 1, 5, 3, 0, 4], orientation: [0, 3, 0, 1, 2, 2] },\n      },\n      // const moves: {move: string, def: string}[] = [\n      //   {move: \"L\", def: \"[y' x: U]\"},\n      //   {move: \"F\", def: \"[x: U]\"},\n      //   {move: \"R\", def: \"[y x: U]\"},\n      //   {move: \"B\", def: \"[x': U]\"},\n      //   {move: \"D\", def: \"[x2: U]\"},\n      //   {move: \"z\", def: \"[y: x]\"},\n      //   {move: \"M\", def: \"R L' x'\"},\n      //   {move: \"E\", def: \"[z': M]\"},\n      //   {move: \"S\", def: \"[y': M]\"},\n      //   {move: \"u\", def: \"D y\"},\n      //   {move: \"l\", def: \"R x'\"},\n      //   {move: \"f\", def: \"B z\"},\n      //   {move: \"r\", def: \"L x\"},\n      //   {move: \"b\", def: \"F z'\"},\n      //   {move: \"d\", def: \"U y'\"}\n      // ];\n      L: {\n        EDGE: { permutation: [0, 1, 2, 11, 4, 5, 6, 9, 8, 3, 10, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [0, 1, 6, 2, 4, 3, 5, 7], orientation: [0, 0, 2, 1, 0, 2, 1, 0] },\n        CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 1, 0, 0, 0, 0] },\n      },\n      F: {\n        EDGE: { permutation: [9, 1, 2, 3, 8, 5, 6, 7, 0, 4, 10, 11], orientation: [1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0] },\n        CORNER: { permutation: [3, 1, 2, 5, 0, 4, 6, 7], orientation: [1, 0, 0, 2, 2, 1, 0, 0] },\n        CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 1, 0, 0, 0] },\n      },\n      R: {\n        EDGE: { permutation: [0, 8, 2, 3, 4, 10, 6, 7, 5, 9, 1, 11], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [4, 0, 2, 3, 7, 5, 6, 1], orientation: [2, 1, 0, 0, 1, 0, 0, 2] },\n        CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 1, 0, 0] },\n      },\n      B: {\n        EDGE: { permutation: [0, 1, 10, 3, 4, 5, 11, 7, 8, 9, 6, 2], orientation: [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 1] },\n        CORNER: { permutation: [0, 7, 1, 3, 4, 5, 2, 6], orientation: [0, 2, 1, 0, 0, 0, 2, 1] },\n        CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 1, 0] },\n      },\n      D: {\n        EDGE: { permutation: [0, 1, 2, 3, 7, 4, 5, 6, 8, 9, 10, 11], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [0, 1, 2, 3, 5, 6, 7, 4], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 1] },\n      },\n      z: {\n        EDGE: { permutation: [9, 3, 11, 7, 8, 1, 10, 5, 0, 4, 2, 6], orientation: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1] },\n        CORNER: { permutation: [3, 2, 6, 5, 0, 4, 7, 1], orientation: [1, 2, 1, 2, 2, 1, 2, 1] },\n        CENTER: { permutation: [1, 5, 2, 0, 4, 3], orientation: [1, 1, 1, 1, 3, 1] },\n      },\n      M: {\n        EDGE: { permutation: [2, 1, 6, 3, 0, 5, 4, 7, 8, 9, 10, 11], orientation: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [0, 1, 2, 3, 4, 5, 6, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [4, 1, 0, 3, 5, 2], orientation: [2, 0, 0, 0, 2, 0] },\n      },\n      E: {\n        EDGE: { permutation: [0, 1, 2, 3, 4, 5, 6, 7, 9, 11, 8, 10], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1] },\n        CORNER: { permutation: [0, 1, 2, 3, 4, 5, 6, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [0, 4, 1, 2, 3, 5], orientation: [0, 0, 0, 0, 0, 0] },\n      },\n      S: {\n        EDGE: { permutation: [0, 3, 2, 7, 4, 1, 6, 5, 8, 9, 10, 11], orientation: [0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0] },\n        CORNER: { permutation: [0, 1, 2, 3, 4, 5, 6, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [1, 5, 2, 0, 4, 3], orientation: [1, 1, 0, 1, 0, 1] },\n      },\n      u: {\n        EDGE: { permutation: [1, 2, 3, 0, 4, 5, 6, 7, 10, 8, 11, 9], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1] },\n        CORNER: { permutation: [1, 2, 3, 0, 4, 5, 6, 7], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [0, 2, 3, 4, 1, 5], orientation: [1, 0, 0, 0, 0, 0] },\n      },\n      l: {\n        EDGE: { permutation: [2, 1, 6, 11, 0, 5, 4, 9, 8, 3, 10, 7], orientation: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [0, 1, 6, 2, 4, 3, 5, 7], orientation: [0, 0, 2, 1, 0, 2, 1, 0] },\n        CENTER: { permutation: [4, 1, 0, 3, 5, 2], orientation: [2, 1, 0, 0, 2, 0] },\n      },\n      f: {\n        EDGE: { permutation: [9, 3, 2, 7, 8, 1, 6, 5, 0, 4, 10, 11], orientation: [1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0] },\n        CORNER: { permutation: [3, 1, 2, 5, 0, 4, 6, 7], orientation: [1, 0, 0, 2, 2, 1, 0, 0] },\n        CENTER: { permutation: [1, 5, 2, 0, 4, 3], orientation: [1, 1, 1, 1, 0, 1] },\n      },\n      r: {\n        EDGE: { permutation: [4, 8, 0, 3, 6, 10, 2, 7, 5, 9, 1, 11], orientation: [1, 0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0] },\n        CORNER: { permutation: [4, 0, 2, 3, 7, 5, 6, 1], orientation: [2, 1, 0, 0, 1, 0, 0, 2] },\n        CENTER: { permutation: [2, 1, 5, 3, 0, 4], orientation: [0, 0, 0, 1, 2, 2] },\n      },\n      b: {\n        EDGE: { permutation: [8, 5, 2, 1, 9, 7, 6, 3, 4, 0, 10, 11], orientation: [1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0] },\n        CORNER: { permutation: [4, 1, 2, 0, 5, 3, 6, 7], orientation: [1, 0, 0, 2, 2, 1, 0, 0] },\n        CENTER: { permutation: [3, 0, 2, 5, 4, 1], orientation: [3, 3, 3, 3, 0, 3] },\n      },\n      d: {\n        EDGE: { permutation: [0, 1, 2, 3, 7, 4, 5, 6, 9, 11, 8, 10], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1] },\n        CORNER: { permutation: [0, 1, 2, 3, 5, 6, 7, 4], orientation: [0, 0, 0, 0, 0, 0, 0, 0] },\n        CENTER: { permutation: [0, 4, 1, 2, 3, 5], orientation: [0, 0, 0, 0, 0, 1] },\n      },\n    },\n    svg: \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.0//EN\\\"\\n       \\\"http://www.w3.org/TR/2001/REC-SVG-20050904/DTD/svg11.dtd\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 490 370\\\" preserveAspectRatio=\\\"xMidYMid meet\\\">\\n  <defs>\\n  </defs>\\n  <title>3x3x3</title>\\n  <defs>\\n    <g id=\\\"sticker\\\">\\n        <rect x=\\\"0\\\" y=\\\"0\\\" width=\\\"1\\\" height=\\\"1\\\" stroke=\\\"black\\\" stroke-width=\\\"0.04px\\\" />\\n    </g>\\n  </defs>\\n\\n<!--        0 1 2 3 4 5 6 7 8 9 10 11  -->\\n<!--        | | | | | | | | | | | |<-  -->\\n<!--    0 -       . . .                -->\\n<!--    1 -       . . .                -->\\n<!--    2 -       . . .                -->\\n<!--    3 - . . . . . . . . . . . .    -->\\n<!--    4 - . . . . . . . . . . . .    -->\\n<!--    5 - . . . . . . . . . . . .    -->\\n<!--    6 -       . . .                -->\\n<!--    7 -       . . .                -->\\n<!--    8 -       . . .                -->\\n\\n  <g id=\\\"puzzle\\\" transform=\\\"translate(5, 5) scale(40)\\\">\\n    <!-- CORNER -->\\n    <use id=\\\"CORNER-l0-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  2)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNER-l0-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(6,  3)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CORNER-l0-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  3)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"CORNER-l1-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  0)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNER-l1-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(9,  3)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CORNER-l1-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(8,  3)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"CORNER-l2-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  0)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNER-l2-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(0,  3)\\\" style=\\\"fill: orange\\\"/>\\n    <use id=\\\"CORNER-l2-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(11, 3)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"CORNER-l3-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  2)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CORNER-l3-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  3)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CORNER-l3-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2,  3)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"CORNER-l4-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  6)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNER-l4-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  5)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CORNER-l4-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(6,  5)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"CORNER-l5-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  6)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNER-l5-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(2,  5)\\\" style=\\\"fill: orange\\\"/>\\n    <use id=\\\"CORNER-l5-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  5)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"CORNER-l6-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  8)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNER-l6-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(11, 5)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CORNER-l6-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(0, 5)\\\"  style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"CORNER-l7-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  8)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CORNER-l7-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(8,  5)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CORNER-l7-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(9,  5)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <!-- EDGE -->\\n    <use id=\\\"EDGE-l0-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  2)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"EDGE-l0-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  3)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"EDGE-l1-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"EDGE-l1-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(7,  3)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"EDGE-l2-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  0)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"EDGE-l2-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(10, 3)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"EDGE-l3-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"EDGE-l3-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(1,  3)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"EDGE-l4-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  6)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"EDGE-l4-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  5)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"EDGE-l5-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  7)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"EDGE-l5-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(7,  5)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"EDGE-l6-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  8)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"EDGE-l6-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(10, 5)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"EDGE-l7-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  7)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"EDGE-l7-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(1,  5)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"EDGE-l8-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(5,  4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"EDGE-l8-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(6,  4)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"EDGE-l9-o0\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(3,  4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"EDGE-l9-o1\\\"  xlink:href=\\\"#sticker\\\" transform=\\\"translate(2,  4)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"EDGE-l10-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(9,  4)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"EDGE-l10-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(8,  4)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"EDGE-l11-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(11, 4)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"EDGE-l11-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(0,  4)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <!-- CENTER -->\\n    <!-- TODO: Allow the same sticker to be reused for multiple orientations -->\\n    <use id=\\\"CENTER-l0-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CENTER-l0-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CENTER-l0-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  1)\\\" style=\\\"fill: white\\\"/>\\n    <use id=\\\"CENTER-l0-o3\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  1)\\\" style=\\\"fill: white\\\"/>\\n\\n    <use id=\\\"CENTER-l1-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(1,  4)\\\" style=\\\"fill: orange\\\"/>\\n    <use id=\\\"CENTER-l1-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(1,  4)\\\" style=\\\"fill: orange\\\"/>\\n    <use id=\\\"CENTER-l1-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(1,  4)\\\" style=\\\"fill: orange\\\"/>\\n    <use id=\\\"CENTER-l1-o3\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(1,  4)\\\" style=\\\"fill: orange\\\"/>\\n\\n    <use id=\\\"CENTER-l2-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CENTER-l2-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CENTER-l2-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CENTER-l2-o3\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  4)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"CENTER-l3-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(7,  4)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CENTER-l3-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(7,  4)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CENTER-l3-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(7,  4)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CENTER-l3-o3\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(7,  4)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"CENTER-l4-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(10, 4)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CENTER-l4-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(10, 4)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CENTER-l4-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(10, 4)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CENTER-l4-o3\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(10, 4)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"CENTER-l5-o0\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  7)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CENTER-l5-o1\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  7)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CENTER-l5-o2\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  7)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CENTER-l5-o3\\\" xlink:href=\\\"#sticker\\\" transform=\\\"translate(4,  7)\\\" style=\\\"fill: yellow\\\"/>\\n  </g>\\n\\n</svg>\\n\",\n  },\n  \"pyram\": {\n    name: \"pyram\",\n    orbits: {\n      CENTERS: { numPieces: 4, orientations: 3 },\n      TIPS: { numPieces: 4, orientations: 3 },\n      EDGES: { numPieces: 6, orientations: 2 },\n    },\n    startPieces: {\n      CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 0] },\n      TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 0] },\n      EDGES: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 0] },\n    },\n    moves: {\n      U: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [1, 0, 0, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [1, 0, 0, 0] },\n        EDGES: { permutation: [1, 2, 0, 3, 4, 5], orientation: [1, 0, 1, 0, 0, 0] },\n      },\n      L: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 1, 0, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 1, 0, 0] },\n        EDGES: { permutation: [5, 1, 2, 0, 4, 3], orientation: [1, 0, 0, 0, 0, 1] },\n      },\n      R: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 1, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 1, 0] },\n        EDGES: { permutation: [0, 3, 2, 4, 1, 5], orientation: [0, 0, 0, 1, 1, 0] },\n      },\n      B: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 1] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 1] },\n        EDGES: { permutation: [0, 1, 4, 3, 5, 2], orientation: [0, 0, 0, 0, 1, 1] },\n      },\n      u: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [1, 0, 0, 0] },\n        EDGES: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 0] },\n      },\n      l: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 1, 0, 0] },\n        EDGES: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 0] },\n      },\n      r: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 1, 0] },\n        EDGES: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 0] },\n      },\n      b: {\n        CENTERS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 0] },\n        TIPS: { permutation: [0, 1, 2, 3], orientation: [0, 0, 0, 1] },\n        EDGES: { permutation: [0, 1, 2, 3, 4, 5], orientation: [0, 0, 0, 0, 0, 0] },\n      },\n    },\n    svg: \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\n<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.0//EN\\\"\\n       \\\"http://www.w3.org/TR/2001/REC-SVG-20050904/DTD/svg11.dtd\\\">\\n<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" viewBox=\\\"0 0 490 420.69219392\\\" preserveAspectRatio=\\\"xMidYMid meet\\\">\\n  <defs>\\n  </defs>\\n  <title>2x2x2</title>\\n  <defs>\\n    <g id=\\\"stickerA\\\" transform=\\\"scale(1, 0.577350269)\\\">\\n      <path\\n         d=\\\"m 0,1.732050808 1,-1.732050808 1,1.732050808 z\\\"\\n         stroke=\\\"black\\\" stroke-width=\\\"0.04px\\\" stroke-linecap=\\\"butt\\\" stroke-linejoin=\\\"round\\\"\\n      />\\n    </g>\\n    <g id=\\\"stickerV\\\" transform=\\\"scale(1, 0.577350269)\\\">\\n      <path\\n         d=\\\"m 0,0 1,1.732050808 1,-1.732050808 z\\\"\\n         stroke=\\\"black\\\" stroke-width=\\\"0.04px\\\" stroke-linecap=\\\"butt\\\" stroke-linejoin=\\\"round\\\"\\n      />\\n    </g>\\n  </defs>\\n\\n<!--        0 1 2 3 4 5 6 7 8 9 10   -->\\n<!--        | | | | | | | | | | |    -->\\n<!--    0 - L L L L L F R R R R R    -->\\n<!--    1 -   L L L F F F R R R      -->\\n<!--    2 -     L F F F F F R        -->\\n<!--    3 -       D D D D D          -->\\n<!--    4 -         D D D            -->\\n<!--    5 -           D              -->\\n\\n  <g id=\\\"puzzle\\\" transform=\\\"translate(5, 5) scale(40, 69.28203232)\\\">\\n    <!-- CENTERS -->\\n    <use id=\\\"CENTERS-l0-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(5, 1)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CENTERS-l0-o1\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(3, 0)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CENTERS-l0-o2\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(7, 0)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"CENTERS-l1-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(4, 2)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CENTERS-l1-o1\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(4, 3)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"CENTERS-l1-o2\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(2, 1)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"CENTERS-l2-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(6, 2)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"CENTERS-l2-o1\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(8, 1)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CENTERS-l2-o2\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(6, 3)\\\" style=\\\"fill: green\\\"/>\\n\\n    <use id=\\\"CENTERS-l3-o0\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(9, 0)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"CENTERS-l3-o1\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(1, 0)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"CENTERS-l3-o2\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(5, 4)\\\" style=\\\"fill: green\\\"/>\\n\\n    <!-- TIPS -->\\n    <use id=\\\"TIPS-l0-o0\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(5, 0)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"TIPS-l0-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(4, 0)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"TIPS-l0-o2\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(6, 0)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"TIPS-l1-o0\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(3, 2)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"TIPS-l1-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(3, 3)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"TIPS-l1-o2\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(2, 2)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"TIPS-l2-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(8, 2)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"TIPS-l2-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(7, 3)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"TIPS-l2-o2\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(7, 2)\\\" style=\\\"fill: yellow\\\"/>\\n\\n    <use id=\\\"TIPS-l3-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(10,0)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"TIPS-l3-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(0, 0)\\\" style=\\\"fill: blue\\\"/>\\n    <use id=\\\"TIPS-l3-o2\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(5, 5)\\\" style=\\\"fill: green\\\"/>\\n\\n    <!-- EDGES -->\\n    <use id=\\\"EDGES-l0-o0\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(4, 1)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"EDGES-l0-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(3, 1)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"EDGES-l1-o0\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(6, 1)\\\" style=\\\"fill: yellow\\\"/>\\n    <use id=\\\"EDGES-l1-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(7, 1)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"EDGES-l2-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(8, 0)\\\" style=\\\"fill: red\\\"/>\\n    <use id=\\\"EDGES-l2-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(2, 0)\\\" style=\\\"fill: blue\\\"/>\\n\\n    <use id=\\\"EDGES-l3-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(5, 3)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"EDGES-l3-o1\\\" xlink:href=\\\"#stickerA\\\" transform=\\\"translate(5, 2)\\\" style=\\\"fill: yellow\\\"/>\\n\\n    <use id=\\\"EDGES-l4-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(6, 4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"EDGES-l4-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(9, 1)\\\" style=\\\"fill: red\\\"/>\\n\\n    <use id=\\\"EDGES-l5-o0\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(4, 4)\\\" style=\\\"fill: green\\\"/>\\n    <use id=\\\"EDGES-l5-o1\\\" xlink:href=\\\"#stickerV\\\" transform=\\\"translate(1, 1)\\\" style=\\\"fill: blue\\\"/>\\n  </g>\\n\\n</svg>\",\n  },\n  \"sq1\": {\n    name: \"sq1\",\n    orbits: { WEDGE: { numPieces: 24, orientations: 9 }, EQUATOR: { numPieces: 2, orientations: 6 } },\n    startPieces: {\n      WEDGE: { permutation: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n      EQUATOR: { permutation: [0, 1], orientation: [0, 0] },\n    },\n    moves: {\n      U: {\n        WEDGE: { permutation: [11, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        EQUATOR: { permutation: [0, 1], orientation: [0, 0] },\n      },\n      D: {\n        WEDGE: { permutation: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 23, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        EQUATOR: { permutation: [0, 1], orientation: [0, 0] },\n      },\n      SLICE: {\n        WEDGE: { permutation: [0, 1, 2, 3, 4, 5, 12, 13, 14, 15, 16, 17, 6, 7, 8, 9, 10, 11, 18, 19, 20, 21, 22, 23], orientation: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },\n        EQUATOR: { permutation: [0, 1], orientation: [0, 3] },\n      },\n    },\n    svg: sq1SVG,\n  },\n};\n","// Workaround per https://github.com/pegjs/pegjs/pull/481\nimport parser from \"./parser.pegjs\";\nconst {parse} = parser;\nexport {parse};\n","import { KPuzzleDefinition, Transformation } from \"./definition_types\";\n\nconst xmlns = \"http://www.w3.org/2000/svg\";\n\n// Unique ID mechanism to keep SVG gradient element IDs unique. TODO: Is there\n// something more performant, and that can't be broken by other elements of the\n// page? (And also doesn't break if this library is run in parallel.)\nlet svgCounter = 0;\nfunction nextSVGID(): string {\n  svgCounter += 1;\n  return \"svg\" + svgCounter.toString();\n}\n\nexport class SVG {\n  public element: HTMLElement;\n  public gradientDefs: SVGDefsElement;\n  private originalColors: { [type: string]: string } = {};\n  private gradients: { [type: string]: SVGGradientElement } = {};\n  private svgID: string;\n  constructor(public kPuzzleDefinition: KPuzzleDefinition) {\n    if (!kPuzzleDefinition.svg) {\n      throw new Error(`No SVG definition for puzzle type: ${kPuzzleDefinition.name}`);\n    }\n\n    this.svgID = nextSVGID();\n\n    this.element = document.createElement(\"div\");\n    this.element.classList.add(\"svg-wrapper\");\n    // TODO: Sanitization.\n    this.element.innerHTML = kPuzzleDefinition.svg;\n\n    const svgElem = this.element.querySelector(\"svg\");\n    if (!svgElem) {\n      throw new Error(\"Could not get SVG element\");\n    }\n    if (xmlns !== svgElem.namespaceURI) {\n      throw new Error(\"Unexpected XML namespace\");\n    }\n    this.gradientDefs = document.createElementNS(xmlns, \"defs\") as SVGDefsElement;\n    svgElem.insertBefore(this.gradientDefs, svgElem.firstChild);\n\n    for (const orbitName in kPuzzleDefinition.orbits) {\n      const orbitDefinition = kPuzzleDefinition.orbits[orbitName];\n\n      for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n        for (let orientation = 0; orientation < orbitDefinition.orientations; orientation++) {\n          const id = this.elementID(orbitName, idx, orientation);\n          const elem = this.elementByID(id);\n          const originalColor = elem.style.fill as string;\n          this.originalColors[id] = originalColor;\n          this.gradients[id] = this.newGradient(id, originalColor);\n          this.gradientDefs.appendChild(this.gradients[id]);\n          elem.setAttribute(\"style\", `fill: url(#grad-${this.svgID}-${id})`);\n        }\n      }\n    }\n  }\n\n  // TODO: save definition in the constructor?\n  public draw(definition: KPuzzleDefinition, state: Transformation, nextState?: Transformation, fraction?: number): void {\n    for (const orbitName in definition.orbits) {\n      const orbitDefinition = definition.orbits[orbitName];\n\n      const curOrbitState = state[orbitName];\n      const nextOrbitState = nextState ? (nextState as Transformation)[orbitName] : null;\n      for (let idx = 0; idx < orbitDefinition.numPieces; idx++) {\n        for (let orientation = 0; orientation < orbitDefinition.orientations; orientation++) {\n          const id = this.elementID(orbitName, idx, orientation);\n          const fromCur = this.elementID(\n            orbitName,\n            curOrbitState.permutation[idx],\n            (orbitDefinition.orientations - curOrbitState.orientation[idx] + orientation) % orbitDefinition.orientations,\n          );\n          let singleColor = false;\n          if (nextOrbitState) {\n            const fromNext = this.elementID(\n              orbitName,\n              nextOrbitState.permutation[idx],\n              (orbitDefinition.orientations - nextOrbitState.orientation[idx] + orientation) % orbitDefinition.orientations,\n            );\n            if (fromCur === fromNext) {\n              singleColor = true; // TODO: Avoid redundant work during move.\n            }\n            fraction = fraction || 0; // TODO Use the type system to tie this to nextState?\n            const easedBackwardsPercent = 100 * (1 - fraction * fraction * (2 - fraction * fraction)); // TODO: Move easing up the stack.\n            this.gradients[id].children[0].setAttribute(\"stop-color\", this.originalColors[fromCur]);\n            this.gradients[id].children[1].setAttribute(\"stop-color\", this.originalColors[fromCur]);\n            this.gradients[id].children[1].setAttribute(\"offset\", `${Math.max(easedBackwardsPercent - 5, 0)}%`);\n            this.gradients[id].children[2].setAttribute(\"offset\", `${Math.max(easedBackwardsPercent - 5, 0)}%`);\n            this.gradients[id].children[3].setAttribute(\"offset\", `${easedBackwardsPercent}%`);\n            this.gradients[id].children[4].setAttribute(\"offset\", `${easedBackwardsPercent}%`);\n            this.gradients[id].children[4].setAttribute(\"stop-color\", this.originalColors[fromNext]);\n            this.gradients[id].children[5].setAttribute(\"stop-color\", this.originalColors[fromNext]);\n          } else {\n            singleColor = true; // TODO: Avoid redundant work during move.\n          }\n          if (singleColor) {\n            this.gradients[id].children[0].setAttribute(\"stop-color\", this.originalColors[fromCur]);\n            this.gradients[id].children[1].setAttribute(\"stop-color\", this.originalColors[fromCur]);\n            this.gradients[id].children[1].setAttribute(\"offset\", `100%`);\n            this.gradients[id].children[2].setAttribute(\"offset\", `100%`);\n            this.gradients[id].children[3].setAttribute(\"offset\", `100%`);\n            this.gradients[id].children[4].setAttribute(\"offset\", `100%`);\n          }\n          // this.gradients[id]\n          // this.elementByID(id).style.fill = this.originalColors[from];\n        }\n      }\n    }\n  }\n\n  private newGradient(id: string, originalColor: string): SVGGradientElement {\n    const grad = document.createElementNS(xmlns, \"radialGradient\") as SVGGradientElement;\n    grad.setAttribute(\"id\", `grad-${this.svgID}-${id}`);\n    grad.setAttribute(\"r\", `70.7107%`); // TODO: Adapt to puzzle.\n    const stopDefs = [\n      { offset: 0, color: originalColor },\n      { offset: 0, color: originalColor },\n      { offset: 0, color: \"black\" },\n      { offset: 0, color: \"black\" },\n      { offset: 0, color: originalColor },\n      { offset: 100, color: originalColor },\n    ];\n    for (const stopDef of stopDefs) {\n      const stop = document.createElementNS(xmlns,\n        \"stop\") as SVGStopElement;\n      stop.setAttribute(\"offset\", `${stopDef.offset}%`);\n      stop.setAttribute(\"stop-color\", stopDef.color);\n      stop.setAttribute(\"stop-opacity\", \"1\");\n      grad.appendChild(stop);\n    }\n    return grad;\n  }\n\n  private elementID(orbitName: string, idx: number, orientation: number): string {\n    return orbitName + \"-l\" + idx + \"-o\" + orientation;\n  }\n\n  private elementByID(id: string): HTMLElement {\n    // TODO: Use classes and scope selector to SVG element.\n    return this.element.querySelector(\"#\" + id) as HTMLElement;\n  }\n}\n"],"names":["Combine","def","t1","t2","newTrans","orbitName","orbits","oDef","o1","o2","newPerm","Array","numPieces","newOri","idx","orientation","permutation","orientations","Multiply","t","amount","Invert","IdentityTransformation","halfish","Math","floor","twiceHalfish","definition","transformation","orbitDefinition","newPermutation","newOrientation","i","orbitTransformation","o","fromIdx","gcd","a","b","Order","r","d","w","om","pm","EquivalentTransformations","EquivalentStates","startPieces","stateForBlockMove","blockMove","repMoveString","blockMoveToString","BlockMove","outerLayer","innerLayer","family","move","moves","KPuzzle","expandSlices","Error","[object Object]","this","state","output","join","slice","length","expand","applyBlockMove","moveName","expandSlicesByName","create","moveExpander","MoveExpander","faceNames","me","getMoveExpander","setFaceNames","grip1","grip2","nslices","addGrip","undefined","rep","mv","grip","unswizzle","gripStash","moveStash","regrip","fn","facenames","slices","axes","push","aprime","map","_","reverse","alg","parse","nestedUnits","signmove","e","substr","faceSplit","splitByFaceNames","testGrip","j","isBlock","isPuzzle","test","toUpperCase","endsWith","substring","outer","inner","s","at","found","facename","startsWith","Puzzles","2x2x2","name","CORNERS","U","R","F","svg","3x3x3","EDGE","CORNER","CENTER","y","x","L","B","D","z","M","E","S","u","l","f","pyram","CENTERS","TIPS","EDGES","sq1","WEDGE","EQUATOR","SLICE","__dirname","parser","xmlns","svgCounter","SVG","kPuzzleDefinition","svgID","toString","element","document","createElement","classList","add","innerHTML","svgElem","querySelector","namespaceURI","gradientDefs","createElementNS","insertBefore","firstChild","id","elementID","elem","elementByID","originalColor","style","fill","originalColors","gradients","newGradient","appendChild","setAttribute","nextState","fraction","curOrbitState","nextOrbitState","fromCur","singleColor","fromNext","easedBackwardsPercent","children","max","grad","stopDefs","offset","color","stopDef","stop"],"mappings":"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"}